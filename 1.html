<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Dircted Symbolic Execution</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="file://d:\python27\lib\site-packages\landslide\themes\default\css\print.css">
    <link rel="stylesheet" media="screen, projection" href="file://d:\python27\lib\site-packages\landslide\themes\default\css\screen.css">
    
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="file://d:\python27\lib\site-packages\landslide\themes\default\js\slides.js"></script>
    
    
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: 2016-11-10.md -->
      <div class="slide-wrapper">
        <div class="slide slide-1">
          <div class="inner">
            
            <header><h1>Dircted Symbolic Execution</h1></header>
            
            
            <section><h3>汇报人：赵健</h3>
<h3>2013-11-10</h3></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="2016-11-10.md">2016-11-10.md</a>
            </aside>
            
            <aside class="page_number">
              1/7
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 2016-11-10.md -->
      <div class="slide-wrapper">
        <div class="slide slide-2">
          <div class="inner">
            
            <header><h2>CFG</h2></header>
            
            
            <section><ul>
<li>
<p>angr的<code>explore</code>函数有一个<code>cfg</code>参数，它说给了<code>cfg</code>之后，一些不可达的节点会被avoid</p>
<blockquote>
<p>If an angr CFG is passed in as the "cfg" parameter and "find" is either a number or a list or a set, then any paths which cannot possibly reach a success state without going through a failure state will be preemptively avoided.</p>
</blockquote>
</li>
<li>
<p>我去调研了一下，给<code>CFGFast Object</code>之后，得不到一条路径，只有一个<code>avoid</code>，<code>with 1 runs</code></p>
</li>
<li>有些给了<code>CFGAccurate Object</code>只能找到一部分路径</li>
<li>单步跟踪<code>explore</code>并没有看懂它具体的意思，不知道他怎么把得到的结果传回去的</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="2016-11-10.md">2016-11-10.md</a>
            </aside>
            
            <aside class="page_number">
              2/7
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 2016-11-10.md -->
      <div class="slide-wrapper">
        <div class="slide slide-3">
          <div class="inner">
            
            
            <section><p><code>python
        if cfg is not None:
            if isinstance(avoid, (int, long)):
                avoid = (avoid,)
            if not isinstance(avoid, (list, tuple)):
                avoid = ()
            if isinstance(find, (int, long)):
                find = (find,)
            if not isinstance(find, (list, tuple)):
                self.cfg = None
                return
            # not a queue but a stack... it's just a worklist!
            queue = sum((cfg.get_all_nodes(f) for f in find), [])
            while len(queue) &gt; 0:
                n = queue.pop()
                if n.addr in self.ok_blocks:
                    continue
                if n.addr in avoid:
                    continue
                self.ok_blocks.add(n.addr)
                queue.extend(n.predecessors)</code></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="2016-11-10.md">2016-11-10.md</a>
            </aside>
            
            <aside class="page_number">
              3/7
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 2016-11-10.md -->
      <div class="slide-wrapper">
        <div class="slide slide-4">
          <div class="inner">
            
            <header><h2>CFG Create By angr</h2></header>
            
            
            <section><ul>
<li><a href="https://github.com/axt/angr-utils">Angr CFG viewer 第三方</a>
<img alt="" src="file://C:\Users\bert\Documents\GitHub\notes\imgs/path_cfg.png" /></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="2016-11-10.md">2016-11-10.md</a>
            </aside>
            
            <aside class="page_number">
              4/7
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 2016-11-10.md -->
      <div class="slide-wrapper">
        <div class="slide slide-5">
          <div class="inner">
            
            <header><h2>自己可以获取到那些avoid节点吗？</h2></header>
            
            
            <section><h3>Backward Excution</h3>
<ol>
<li>利用<code>cfg.get_any_node(addr, anyaddr=True)</code>，找到地址所在的CFGNode</li>
<li><code>node.predecssors</code>获取所有的父节点， <code>node.successors</code>获取所有子节点</li>
<li>根据每一个父节点，父节点的其他分支全部avoid，因为暂时认为不可达</li>
<li>依次向上执行，直到没有父节点，如果该节点不是入口点，那么avoid</li>
</ol></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="2016-11-10.md">2016-11-10.md</a>
            </aside>
            
            <aside class="page_number">
              5/7
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 2016-11-10.md -->
      <div class="slide-wrapper">
        <div class="slide slide-6">
          <div class="inner">
            
            <header><h2>It works properly with this</h2></header>
            
            
            <section><p><img alt="" src="file://C:\Users\bert\Documents\GitHub\notes\imgs/pic1.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="2016-11-10.md">2016-11-10.md</a>
            </aside>
            
            <aside class="page_number">
              6/7
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 2016-11-10.md -->
      <div class="slide-wrapper">
        <div class="slide slide-7">
          <div class="inner">
            
            <header><h2>How about this</h2></header>
            
            
            <section><p><img alt="" src="file://C:\Users\bert\Documents\GitHub\notes\imgs/pic2.png" /></p>
<blockquote>
<ol>
<li>target: 父节点【1,2】</li>
<li>process 【1】： avoid =&gt; [3]</li>
<li>process 【2】： avoid =&gt; [3,4]</li>
</ol>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="2016-11-10.md">2016-11-10.md</a>
            </aside>
            
            <aside class="page_number">
              7/7
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">Dircted Symbolic Execution</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
        
        <tr id="toc-row-2" class="sub">
          <th><a href="#slide2">CFG</a></th>
          <td><a href="#slide2">2</a></td>
        </tr>
        
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">-</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
        
        <tr id="toc-row-4" class="sub">
          <th><a href="#slide4">CFG Create By angr</a></th>
          <td><a href="#slide4">4</a></td>
        </tr>
        
        <tr id="toc-row-5" class="sub">
          <th><a href="#slide5">自己可以获取到那些avoid节点吗？</a></th>
          <td><a href="#slide5">5</a></td>
        </tr>
        
        <tr id="toc-row-6" class="sub">
          <th><a href="#slide6">It works properly with this</a></th>
          <td><a href="#slide6">6</a></td>
        </tr>
        
        <tr id="toc-row-7" class="sub">
          <th><a href="#slide7">How about this</a></th>
          <td><a href="#slide7">7</a></td>
        </tr>
        
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Exposé</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>